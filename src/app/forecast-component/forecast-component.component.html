<!-- <div class="background-image" style="background-image: url(assets/backgrounds/sunny.jpg);"> -->
<!-- <div class="background-image" style="background-image: url( {{backgroundPathDict[weatherData?.days?.[dayIndexState]?.icon ]}} );"> -->
<div 
    class="background-image" 
    [style.background-image]="
    'url(' + (backgroundPathDict[weatherData?.days?.[dayIndexState]?.icon ?? '']) + ')'
">
    <app-city-select
    [isOpen]="isModalOpen"
    (closeModal)="handleModalClose()"
    (citySelected)="handleCitySelection($event)"
    ></app-city-select>
    
    <!-- <div class="audio-container">
        <div class="animated-element">üé∂</div>
    </div> -->

    <div class="container">
        <div class="box" style="text-align: left;">
            <div class="header flex-container">
                <div class="icon" (click)="openCityModal()">
                    <img src="assets/icons/search-2903 (1).svg" alt="">
                </div>
                <div style="margin-left: 5px;">{{ weatherData?.resolvedAddress }}</div>
            </div>
            <div class="flex-block-center">
                <div class="second-temp" id="day-name">{{weatherData?.days?.[dayIndexState]?.dayName}}</div>
                <div class="main-temp" id="main-temp">{{ (weatherData?.days?.[dayIndexState]?.temp) + '¬∞C' }}</div>
                <div class="second-temp" id="second-temp">–ú–∞–∫—Å: {{ (weatherData?.days?.[dayIndexState]?.tempmax)}}¬∞C, –ú—ñ–Ω: {{ (weatherData?.days?.[dayIndexState]?.tempmin)}}¬∞C</div>
            </div>
            <div class="details" id="details">
                <div class="details-item">
                    <p class="details-item-key">–í—ñ–¥—á—É–≤–∞—î—Ç—å—Å—è —è–∫:</p>
                    <p class="details-item-value">{{weatherData?.days?.[dayIndexState]?.feelslike}}¬∞C</p>
                </div>
                <div class="details-item">
                    <p class="details-item-key">–¢–∏—Å–∫:</p>
                    <p class="details-item-value">{{weatherData?.days?.[dayIndexState]?.pressure}}</p>
                </div>
                <div class="details-item">
                    <p class="details-item-key">–í–æ–ª–æ–≥—ñ—Å—Ç—å:</p>
                    <p class="details-item-value">{{weatherData?.days?.[dayIndexState]?.humidity}}%</p>
                </div>
                <div class="details-item">
                    <p class="details-item-key">–í—ñ—Ç–µ—Ä:</p>
                    <p class="details-item-value">{{weatherData?.days?.[dayIndexState]?.windspeed}} –º/—Å</p>
                </div>
                <div class="details-item">
                    <p class="details-item-key">–ô–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –æ–ø–∞–¥—ñ–≤:</p>
                    <p class="details-item-value">{{weatherData?.days?.[dayIndexState]?.precipcover}}%</p>
                </div>
            </div>
        </div>
        <div class="box" style="text-align: right;">
            <div class="flex-container box" style="font-size: 2em;">
                <div class="box"></div>
                <div class="box">
                    {{ weatherData?.days?.[dayIndexState]?.datetime }}
                </div>
            </div>
            <div class="big-icon">
                <img [src]="bigIcons[weatherData?.days?.[dayIndexState]?.icon ?? '']" alt="big-icon">
            </div>
        </div>
    </div>
    <div class="container">
        <div *ngFor="let day of weatherData?.days; let i = index; trackBy: trackDay" class="day box" [ngClass]="{'active': i === dayIndexState}" (click)="changeDayIndexState(i)">
            <img [src]="iconPathDict[day.icon]" [alt]="day.icon">
            <p class="day-text" style="font-weight: bold;">{{ day.dayName }}</p>
            <p class="day-text">{{ day.temp }}¬∞C</p>

        </div>
    </div>
</div>